!function(a){"use strict";a(function(){var b=a(".b-forms-letter"),c=a(".b-forms-letter form"),d=(a(".b-forms-letter__response"),a(".b-forms-letter__error"));c.find("input[ data-required=true ], textarea[ data-required=true ]").blur(function(){var b=a(this);if(""===a.trim(b.val()))b.addClass("i-invalid");else if("letterFormEmail"===b.attr("id")){var c=/^([^@\s]+)@((?:[-a-z0-9]+\.)+[a-z]{2,})$/i,d=b.val();d.match(c)||b.addClass("i-invalid")}else b.removeClass("i-invalid")}).focus(function(){a(this).removeClass("i-invalid")}).keyup(function(){var b=!0;c.find("input[ data-required=true ], textarea[ data-required=true ]").each(function(c,d){if(""===a.trim(a(d).val()))b=!1;else if("letterFormEmail"===a(d).attr("id")){var e=/^([^@\s]+)@((?:[-a-z0-9]+\.)+[a-z]{2,})$/i,f=a(d).val();f.match(e)||(b=!1)}}),b?c.find("button[ type=submit ]").removeClass("btn-disabled"):c.find("button[ type=submit ]:not( .btn-disabled )").addClass("btn-disabled")}),a(".b-forms-letter form").submit(function(c){c.preventDefault();var e=a(this),f=!0;e.closest(".b-forms-letter");e.find("input[ data-required=true ], textarea[ data-required=true ]").each(function(b,c){if(""===a.trim(a(c).val()))a(c).addClass("i-invalid"),f=!1;else if("letterFormEmail"===a(c).attr("id")){var d=/^([^@\s]+)@((?:[-a-z0-9]+\.)+[a-z]{2,})$/i,e=a(c).val();e.match(d)||(a(c).addClass("i-invalid"),f=!1)}else a(c).removeClass("i-invalid")}),f&&a.ajax({url:e.attr("action"),type:e.attr("method"),dataType:"json",data:e.serialize(),success:function(a){a&&"object"==typeof a&&a.STATUS&&("Y"===a.STATUS?(b.addClass("i-send"),setTimeout(function(){b.addClass("i-success")},300)):"N"===a.STATUS&&d.show())},error:function(a,b,c){window.console&&(console.log(a),console.log(b),console.log(c))}})})})}(jQuery);